{"ast":null,"code":"import React,{useState,useCallback,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import io from'socket.io-client';import'./UploadPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadPage=()=>{const[jobDescription,setJobDescription]=useState('');const[resumes,setResumes]=useState([]);const[message,setMessage]=useState('');const[isAnalyzing,setIsAnalyzing]=useState(false);const[isDragging,setIsDragging]=useState(false);const[analysisResult,setAnalysisResult]=useState(null);const[progressUpdates,setProgressUpdates]=useState([]);const[currentJobId,setCurrentJobId]=useState(null);const navigate=useNavigate();const socketRef=useRef(null);// Initialize WebSocket connection\nuseEffect(()=>{socketRef.current=io('http://127.0.0.1:5000');socketRef.current.on('connect',()=>{console.log('Connected to server');});socketRef.current.on('progress_update',data=>{console.log('Progress update:',data);setProgressUpdates(prev=>[...prev,data]);// Auto-navigate when analysis is complete\nif(data.type==='complete'&&currentJobId){setTimeout(()=>{navigate(`/jobs/${currentJobId}`);},2000);}});socketRef.current.on('disconnect',()=>{console.log('Disconnected from server');});return()=>{if(socketRef.current){socketRef.current.disconnect();}};},[navigate,currentJobId]);const handleFileChange=e=>{if(e.target.files){setResumes([...e.target.files]);}};const handleDragOver=useCallback(e=>{e.preventDefault();e.stopPropagation();setIsDragging(true);},[]);const handleDragLeave=useCallback(e=>{e.preventDefault();e.stopPropagation();setIsDragging(false);},[]);const handleDrop=useCallback(e=>{e.preventDefault();e.stopPropagation();setIsDragging(false);if(e.dataTransfer.files&&e.dataTransfer.files.length>0){setResumes([...e.dataTransfer.files]);}},[]);const handleSubmit=e=>{e.preventDefault();if(resumes.length===0){setMessage('Error: Please upload at least one r√©sum√©.');return;}setIsAnalyzing(true);setAnalysisResult(null);setMessage('');setProgressUpdates([]);setTimeout(async()=>{const formData=new FormData();formData.append('job_description',jobDescription);for(let i=0;i<resumes.length;i++){formData.append('resumes',resumes[i]);}try{const response=await fetch('/api/analyze',{method:'POST',body:formData,// Increased timeout to match backend (600 seconds = 10 minutes)\nsignal:AbortSignal.timeout(600000)// 10 minutes timeout\n});// Check if response is JSON\nconst contentType=response.headers.get('content-type');if(!contentType||!contentType.includes('application/json')){// If not JSON, get the text and show it\nconst text=await response.text();console.error('Non-JSON response detected:');console.error('Response status:',response.status);console.error('Response headers:',Object.fromEntries(response.headers.entries()));console.error('Response text:',text);throw new Error(`Server returned non-JSON response. Status: ${response.status}`);}const data=await response.json();setAnalysisResult(data);setCurrentJobId(data.job_id);if(response.ok){const processedCount=data.processed_files?data.processed_files.length:0;const skippedCount=data.skipped_files?data.skipped_files.length:0;const totalFiles=data.total_files||0;if(data.status==='queued'){// Asynchronous processing\nsetMessage(`‚úÖ Analysis queued successfully for ${totalFiles} resume(s). Processing in background. Redirecting to job page...`);setIsAnalyzing(false);// Auto-redirect to job page after 2 seconds\nsetTimeout(()=>{navigate(`/jobs/${data.job_id}`);},2000);}else if(processedCount>0){// Synchronous processing (fallback)\nsetMessage(`‚úÖ Analysis completed successfully! Processed ${processedCount} resume(s). Redirecting to job page...`);setIsAnalyzing(false);// Auto-redirect to job page after 2 seconds\nsetTimeout(()=>{navigate(`/jobs/${data.job_id}`);},2000);}else{setMessage(`‚ö†Ô∏è No resumes were processed. ${skippedCount} files were skipped.`);setIsAnalyzing(false);}}else{throw new Error(data.error||'An error occurred during analysis.');}}catch(error){console.error('Upload error:',error);console.error('Error name:',error.name);console.error('Error message:',error.message);if(error.name==='TimeoutError'){setMessage(`‚è±Ô∏è Analysis is taking longer than expected. Please check the Jobs page in a few minutes to see if processing completed.`);}else if(error.message.includes('non-JSON response')){// Check if it's a 413 error (request too large)\nif(error.message.includes('413')){setMessage(`üìÅ Request too large. Please reduce the number of files or file sizes. Maximum 100MB total upload allowed.`);}else{setMessage(`‚ö†Ô∏è Analysis completed but there was a response issue. Please check the Jobs page to see your processed resumes.`);}}else{setMessage(`Error: ${error.message}`);}setIsAnalyzing(false);}},100);};const getProgressTypeClass=type=>{switch(type){case'success':return'progress-success';case'error':return'progress-error';case'warning':return'progress-warning';case'processing':return'progress-processing';default:return'progress-info';}};return/*#__PURE__*/_jsx(\"div\",{className:\"upload-page-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"glass-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Analyze New Role\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Provide a job description and the corresponding r\\xE9sum\\xE9s to begin the analysis.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"upload-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"jobDescription\",children:\"Job Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"jobDescription\",value:jobDescription,onChange:e=>setJobDescription(e.target.value),placeholder:\"Paste the full job description here...\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload R\\xE9sum\\xE9s\"}),/*#__PURE__*/_jsxs(\"div\",{className:`drop-zone ${isDragging?'dragging':''}`,onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"resumes\",onChange:handleFileChange,multiple:true,className:\"drop-zone-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"drop-zone-prompt\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"drop-zone-icon\",children:\"\\u2601\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag & drop files here, or click to select files\"}),/*#__PURE__*/_jsx(\"p\",{className:\"file-types\",children:\"Supports: .pdf, .docx, .txt\"})]})]}),resumes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"file-list\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Selected Files:\"}),/*#__PURE__*/_jsx(\"ul\",{children:Array.from(resumes).map((file,index)=>/*#__PURE__*/_jsx(\"li\",{children:file.name},index))})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:`cta-button ${isAnalyzing?'analyzing':''}`,disabled:isAnalyzing,children:/*#__PURE__*/_jsx(\"span\",{className:\"button-text\",children:isAnalyzing?'Analyzing...':'Start Analysis'})})]}),isAnalyzing&&progressUpdates.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"progress-updates\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Analysis Progress\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-list\",children:progressUpdates.map((update,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`progress-item ${getProgressTypeClass(update.type)}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"progress-message\",children:update.message}),/*#__PURE__*/_jsx(\"span\",{className:\"progress-time\",children:new Date(update.timestamp*1000).toLocaleTimeString()})]},index))})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:`message ${message.startsWith('Error')?'error':'success'}`,children:message}),analysisResult&&analysisResult.skipped_files&&analysisResult.skipped_files.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"skipped-files-report\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Skipped Files Report\"}),/*#__PURE__*/_jsx(\"ul\",{children:analysisResult.skipped_files.map((file,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:file.filename}),\" - \",file.reason]},index))})]})]})});};export default UploadPage;","map":{"version":3,"names":["React","useState","useCallback","useEffect","useRef","useNavigate","io","jsx","_jsx","jsxs","_jsxs","UploadPage","jobDescription","setJobDescription","resumes","setResumes","message","setMessage","isAnalyzing","setIsAnalyzing","isDragging","setIsDragging","analysisResult","setAnalysisResult","progressUpdates","setProgressUpdates","currentJobId","setCurrentJobId","navigate","socketRef","current","on","console","log","data","prev","type","setTimeout","disconnect","handleFileChange","e","target","files","handleDragOver","preventDefault","stopPropagation","handleDragLeave","handleDrop","dataTransfer","length","handleSubmit","formData","FormData","append","i","response","fetch","method","body","signal","AbortSignal","timeout","contentType","headers","get","includes","text","error","status","Object","fromEntries","entries","Error","json","job_id","ok","processedCount","processed_files","skippedCount","skipped_files","totalFiles","total_files","name","getProgressTypeClass","className","children","onSubmit","htmlFor","id","value","onChange","placeholder","required","onDragOver","onDragLeave","onDrop","multiple","Array","from","map","file","index","disabled","update","Date","timestamp","toLocaleTimeString","startsWith","filename","reason"],"sources":["/Users/aryansrivatsavadande/Downloads/TalentVibe-v1check/frontend/src/UploadPage.js"],"sourcesContent":["import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport './UploadPage.css';\n\nconst UploadPage = () => {\n    const [jobDescription, setJobDescription] = useState('');\n    const [resumes, setResumes] = useState([]);\n    const [message, setMessage] = useState('');\n    const [isAnalyzing, setIsAnalyzing] = useState(false);\n    const [isDragging, setIsDragging] = useState(false);\n    const [analysisResult, setAnalysisResult] = useState(null);\n    const [progressUpdates, setProgressUpdates] = useState([]);\n    const [currentJobId, setCurrentJobId] = useState(null);\n    const navigate = useNavigate();\n    const socketRef = useRef(null);\n\n    // Initialize WebSocket connection\n    useEffect(() => {\n        socketRef.current = io('http://127.0.0.1:5000');\n        \n        socketRef.current.on('connect', () => {\n            console.log('Connected to server');\n        });\n\n        socketRef.current.on('progress_update', (data) => {\n            console.log('Progress update:', data);\n            setProgressUpdates(prev => [...prev, data]);\n            \n            // Auto-navigate when analysis is complete\n            if (data.type === 'complete' && currentJobId) {\n                setTimeout(() => {\n                    navigate(`/jobs/${currentJobId}`);\n                }, 2000);\n            }\n        });\n\n        socketRef.current.on('disconnect', () => {\n            console.log('Disconnected from server');\n        });\n\n        return () => {\n            if (socketRef.current) {\n                socketRef.current.disconnect();\n            }\n        };\n    }, [navigate, currentJobId]);\n\n    const handleFileChange = (e) => {\n        if (e.target.files) {\n            setResumes([...e.target.files]);\n        }\n    };\n\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(true);\n    }, []);\n\n    const handleDragLeave = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n    }, []);\n    \n    const handleDrop = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n            setResumes([...e.dataTransfer.files]);\n        }\n    }, []);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (resumes.length === 0) {\n            setMessage('Error: Please upload at least one r√©sum√©.');\n            return;\n        }\n\n        setIsAnalyzing(true);\n        setAnalysisResult(null);\n        setMessage('');\n        setProgressUpdates([]);\n\n        setTimeout(async () => {\n            const formData = new FormData();\n            formData.append('job_description', jobDescription);\n            for (let i = 0; i < resumes.length; i++) {\n                formData.append('resumes', resumes[i]);\n            }\n\n            try {\n                const response = await fetch('/api/analyze', {\n                    method: 'POST',\n                    body: formData,\n                    // Increased timeout to match backend (600 seconds = 10 minutes)\n                    signal: AbortSignal.timeout(600000) // 10 minutes timeout\n                });\n\n                // Check if response is JSON\n                const contentType = response.headers.get('content-type');\n                if (!contentType || !contentType.includes('application/json')) {\n                    // If not JSON, get the text and show it\n                    const text = await response.text();\n                    console.error('Non-JSON response detected:');\n                    console.error('Response status:', response.status);\n                    console.error('Response headers:', Object.fromEntries(response.headers.entries()));\n                    console.error('Response text:', text);\n                    throw new Error(`Server returned non-JSON response. Status: ${response.status}`);\n                }\n\n                const data = await response.json();\n                setAnalysisResult(data);\n                setCurrentJobId(data.job_id);\n\n                if (response.ok) {\n                    const processedCount = data.processed_files ? data.processed_files.length : 0;\n                    const skippedCount = data.skipped_files ? data.skipped_files.length : 0;\n                    const totalFiles = data.total_files || 0;\n                    \n                    if (data.status === 'queued') {\n                        // Asynchronous processing\n                        setMessage(`‚úÖ Analysis queued successfully for ${totalFiles} resume(s). Processing in background. Redirecting to job page...`);\n                        setIsAnalyzing(false);\n                        \n                        // Auto-redirect to job page after 2 seconds\n                        setTimeout(() => {\n                            navigate(`/jobs/${data.job_id}`);\n                        }, 2000);\n                    } else if (processedCount > 0) {\n                        // Synchronous processing (fallback)\n                        setMessage(`‚úÖ Analysis completed successfully! Processed ${processedCount} resume(s). Redirecting to job page...`);\n                        setIsAnalyzing(false);\n                        \n                        // Auto-redirect to job page after 2 seconds\n                        setTimeout(() => {\n                            navigate(`/jobs/${data.job_id}`);\n                        }, 2000);\n                    } else {\n                        setMessage(`‚ö†Ô∏è No resumes were processed. ${skippedCount} files were skipped.`);\n                        setIsAnalyzing(false);\n                    }\n                } else {\n                    throw new Error(data.error || 'An error occurred during analysis.');\n                }\n            } catch (error) {\n                console.error('Upload error:', error);\n                console.error('Error name:', error.name);\n                console.error('Error message:', error.message);\n                \n                if (error.name === 'TimeoutError') {\n                    setMessage(`‚è±Ô∏è Analysis is taking longer than expected. Please check the Jobs page in a few minutes to see if processing completed.`);\n                } else if (error.message.includes('non-JSON response')) {\n                    // Check if it's a 413 error (request too large)\n                    if (error.message.includes('413')) {\n                        setMessage(`üìÅ Request too large. Please reduce the number of files or file sizes. Maximum 100MB total upload allowed.`);\n                    } else {\n                        setMessage(`‚ö†Ô∏è Analysis completed but there was a response issue. Please check the Jobs page to see your processed resumes.`);\n                    }\n                } else {\n                    setMessage(`Error: ${error.message}`);\n                }\n                setIsAnalyzing(false);\n            }\n        }, 100);\n    };\n\n    const getProgressTypeClass = (type) => {\n        switch (type) {\n            case 'success': return 'progress-success';\n            case 'error': return 'progress-error';\n            case 'warning': return 'progress-warning';\n            case 'processing': return 'progress-processing';\n            default: return 'progress-info';\n        }\n    };\n\n    return (\n        <div className=\"upload-page-container\">\n            <div className=\"glass-container\">\n                <h2>Analyze New Role</h2>\n                <p>Provide a job description and the corresponding r√©sum√©s to begin the analysis.</p>\n                <form onSubmit={handleSubmit} className=\"upload-form\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"jobDescription\">Job Description</label>\n                        <textarea\n                            id=\"jobDescription\"\n                            value={jobDescription}\n                            onChange={(e) => setJobDescription(e.target.value)}\n                            placeholder=\"Paste the full job description here...\"\n                            required\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Upload R√©sum√©s</label>\n                        <div \n                            className={`drop-zone ${isDragging ? 'dragging' : ''}`}\n                            onDragOver={handleDragOver}\n                            onDragLeave={handleDragLeave}\n                            onDrop={handleDrop}\n                        >\n                            <input\n                                type=\"file\"\n                                id=\"resumes\"\n                                onChange={handleFileChange}\n                                multiple\n                                className=\"drop-zone-input\"\n                            />\n                            <div className=\"drop-zone-prompt\">\n                                <span className=\"drop-zone-icon\">‚òÅÔ∏è</span>\n                                <p>Drag & drop files here, or click to select files</p>\n                                <p className=\"file-types\">Supports: .pdf, .docx, .txt</p>\n                            </div>\n                        </div>\n                        {resumes.length > 0 && (\n                            <div className=\"file-list\">\n                                <h4>Selected Files:</h4>\n                                <ul>\n                                    {Array.from(resumes).map((file, index) => (\n                                        <li key={index}>{file.name}</li>\n                                    ))}\n                                </ul>\n                            </div>\n                        )}\n                    </div>\n                    <button type=\"submit\" className={`cta-button ${isAnalyzing ? 'analyzing' : ''}`} disabled={isAnalyzing}>\n                        <span className=\"button-text\">\n                            {isAnalyzing ? 'Analyzing...' : 'Start Analysis'}\n                        </span>\n                    </button>\n                </form>\n                \n                {/* Real-time Progress Updates */}\n                {isAnalyzing && progressUpdates.length > 0 && (\n                    <div className=\"progress-updates\">\n                        <h4>Analysis Progress</h4>\n                        <div className=\"progress-list\">\n                            {progressUpdates.map((update, index) => (\n                                <div key={index} className={`progress-item ${getProgressTypeClass(update.type)}`}>\n                                    <span className=\"progress-message\">{update.message}</span>\n                                    <span className=\"progress-time\">\n                                        {new Date(update.timestamp * 1000).toLocaleTimeString()}\n                                    </span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n                \n                {message && <p className={`message ${message.startsWith('Error') ? 'error' : 'success'}`}>{message}</p>}\n                \n                {analysisResult && analysisResult.skipped_files && analysisResult.skipped_files.length > 0 && (\n                    <div className=\"skipped-files-report\">\n                        <h4>Skipped Files Report</h4>\n                        <ul>\n                            {analysisResult.skipped_files.map((file, index) => (\n                                <li key={index}><strong>{file.filename}</strong> - {file.reason}</li>\n                            ))}\n                        </ul>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default UploadPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}